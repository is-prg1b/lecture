---
title: "小テスト３<br/>学籍番号：<br/>氏名："
---

正規表現の文法を以下の BNF で定める．

$$r ::= \varepsilon \,|\,
    c \,|\,
    r_1 r_2 \,|\,
    r_1|r_2 \,|\,
    r*$$

この文法が定める正規表現を正規表現受理仮想命令列に変換する関数 $\cal T$ は以下で定められている．

$$\begin {align}
{\cal T}[\varepsilon] &= \varepsilon \\ \\
{\cal T}[c] &= \text {char } c \\ \\
{\cal T}[r_1 | r_2] &= \\
     & \text {split } L_1, L_2 \\
L_1:\quad & {\cal T}[r_1] \\
     & \text {jump } L_3 \\
L_2:\quad & {\cal T}[r_2] \\
L_3:\quad & \\ \\
{\cal T}[r*] &= \\
L_1:\quad & \text {split } L_2, L_3 \\
L_2:\quad & {\cal T}[r] \\
     & \text {jump } L_1 \\
L_3:\quad &
\end {align}$$

# 問題

以下の5つの設問について適宜，余白を使って回答しなさい．裏を使っても構わない．

1. ${\cal T}$ を用いて `a (b | c)` に対応する仮想命令列を生成しなさい．

1. ${\cal T}$ を用いて `a (b | c)*` に対応する仮想命令列を生成しなさい．

1. 正規表現の文法を拡張し `r?` というパターンを追加したい．このとき ${\cal T}[r?]$ に該当する変換規則を書きなさい． 

1. 正規表現の文法を拡張し `r+` というパターンを追加したい．このとき ${\cal T}[r+]$ に該当する変換規則を書きなさい． 

1. $\text {split } L_1, L_2$ 命令の働きを説明しなさい．
